# ğŸ“˜ ç®—æ³•è®²è§£ 006ã€å…¥é—¨ã€‘äºŒåˆ†æœç´¢

> **è®²å¸ˆ**ï¼šå·¦ç¨‹äº‘
> **å‰ç½®çŸ¥è¯†**ï¼šæ— 

---

## ğŸŒŸ è¯¾ç¨‹æ¦‚è¦

æœ¬èŠ‚è¯¾ä¸»è¦é€šè¿‡äºŒåˆ†æœç´¢ï¼ˆBinary Searchï¼‰è§£å†³ä»¥ä¸‹æ ¸å¿ƒé—®é¢˜ã€‚å»ºè®®å³ä½¿äº†è§£åŸºç¡€çš„åŒå­¦ä¹Ÿä¸è¦è·³è¿‡ç¬¬ 2ã€3ã€4 éƒ¨åˆ†çš„å†…å®¹ã€‚

1.  **åŸºç¡€æŸ¥æ‰¾**ï¼šåœ¨æœ‰åºæ•°ç»„ä¸­ç¡®å®š num æ˜¯å¦å­˜åœ¨ã€‚
2.  **æŸ¥æ‰¾å·¦è¾¹ç•Œ**ï¼šåœ¨æœ‰åºæ•°ç»„ä¸­æ‰¾ >= num çš„**æœ€å·¦**ä½ç½®ã€‚
3.  **æŸ¥æ‰¾å³è¾¹ç•Œ**ï¼šåœ¨æœ‰åºæ•°ç»„ä¸­æ‰¾ <= num çš„**æœ€å³**ä½ç½®ã€‚
4.  **æ— åºäºŒåˆ†**ï¼šäºŒåˆ†æœç´¢**ä¸ä¸€å®š**åªå‘ç”Ÿåœ¨æœ‰åºæ•°ç»„ä¸Šï¼ˆä¾‹å¦‚ï¼šå¯»æ‰¾å³°å€¼é—®é¢˜ï¼‰ã€‚
5.  **è¿›é˜¶é¢„å‘Š**ï¼šâ€œäºŒåˆ†ç­”æ¡ˆæ³•â€å°†åœ¨ã€å¿…å¤‡ã€‘è¯¾ç¨‹ä¸­ç»§ç»­è®²è§£ã€‚

---

## âš¡ æ ¸å¿ƒæ¦‚å¿µä¸å¤æ‚åº¦

* **æœç´¢æ¬¡æ•°**ï¼šå¦‚æœæ•°ç»„é•¿åº¦ä¸º nï¼ŒäºŒåˆ†æœç´¢çš„æœç´¢æ¬¡æ•°ä¸º log n æ¬¡ï¼ˆä»¥ 2 ä¸ºåº•ï¼‰ã€‚
* **æ—¶é—´å¤æ‚åº¦**ï¼šO(log n)ã€‚

---

## ğŸ”ï¸ é‡ç‚¹æ¡ˆä¾‹ï¼šå¯»æ‰¾å³°å€¼ (Find Peak Element)

è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„**åœ¨æ— åºæ•°ç»„ä¸­ä½¿ç”¨äºŒåˆ†æœç´¢**çš„æ¡ˆä¾‹ã€‚

### é¢˜ç›®æè¿°
* **å³°å€¼å®šä¹‰**ï¼šå³°å€¼å…ƒç´ æ˜¯æŒ‡å…¶å€¼ä¸¥æ ¼**å¤§äº**å·¦å³ç›¸é‚»å€¼çš„å…ƒç´ ã€‚
* **è¾“å…¥**ï¼šç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œå·²çŸ¥**ä»»ä½•ä¸¤ä¸ªç›¸é‚»çš„å€¼éƒ½ä¸ç›¸ç­‰**ã€‚
* **ç›®æ ‡**ï¼šæ‰¾åˆ°å³°å€¼å…ƒç´ å¹¶è¿”å›å…¶ç´¢å¼•ã€‚
* **å¤šå³°å€¼æƒ…å†µ**ï¼šæ•°ç»„å¯èƒ½åŒ…å«å¤šä¸ªå³°å€¼ï¼Œè¿”å› **ä»»ä½•ä¸€ä¸ª** å³°å€¼æ‰€åœ¨ä½ç½®å³å¯ã€‚
* **è¾¹ç•Œå‡è®¾**ï¼šä½ å¯ä»¥å‡è®¾ nums[-1] = nums[n] = æ— ç©·å° (-âˆ)ã€‚
* **è¦æ±‚**ï¼šå¿…é¡»å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•ã€‚

### ğŸ”— æµ‹è¯•é“¾æ¥
[LeetCode 162. å¯»æ‰¾å³°å€¼](https://leetcode.cn/problems/find-peak-element/)



## ğŸ’» æ ¸å¿ƒä»£ç å®ç°

### 1.åŸºç¡€äºŒåˆ†

```c
// [æ ¸å¿ƒç®—æ³•] äºŒåˆ†æŸ¥æ‰¾
// æ—¶é—´å¤æ‚åº¦: O(logN)
// å‰æ: æ•°ç»„å¿…é¡»æœ‰åº
bool exist(const int arr[], const int len, const int num) {
    if (arr == NULL || len == 0) return false;
    int l = 0, r = len - 1, m = 0;
    
    // ç»å…¸äºŒåˆ†é€»è¾‘: åœ¨ [l, r] åŒºé—´å†…æŸ¥æ‰¾
    while (l <= r) {
        m = (l + r) / 2; // å–ä¸­é—´ä½ç½® (é˜²æº¢å‡ºå†™æ³•: l + (r-l)/2)
        if (arr[m] == num) {
            return true; // æ‰¾åˆ°äº†
        } else if (arr[m] > num) {
            r = m - 1;   // ä¸­é—´å€¼å¤ªå¤§, å»å·¦åŠè¾¹æ‰¾
        } else {
            l = m + 1;   // ä¸­é—´å€¼å¤ªå°, å»å³åŠè¾¹æ‰¾
        }
    }
    return false;
}
```

---

### 2.æŸ¥æ‰¾å·¦è¾¹ç•Œ

```c
// [æ ¸å¿ƒç®—æ³•] äºŒåˆ†æŸ¥æ‰¾: æ‰¾ >= num çš„æœ€å·¦ä½ç½®
// æ—¶é—´å¤æ‚åº¦: O(logN)
int findLeft(const int arr[], const int len, const int num) {
    int l = 0, r = len - 1, m = 0;
    int ans = -1; // åˆå§‹åŒ–ä¸º-1,è‹¥æ²¡æ‰¾åˆ°åˆ™è¿”å›-1

    // ç»å…¸äºŒåˆ†é€»è¾‘: åœ¨ [l, r] åŒºé—´å†…æŸ¥æ‰¾
    while (l <= r) {
        m = l + (r - l) / 2; // å–ä¸­é—´ä½ç½® (é˜²æº¢å‡ºå†™æ³•)
        
        // [æ ¸å¿ƒç­–ç•¥]
        // å¦‚æœ arr[m] >= num, è¯´æ˜ m å¯èƒ½æ˜¯ç­”æ¡ˆ
        // ä½†æˆ‘ä»¬è¦æ‰¾"æœ€å·¦"çš„, æ‰€ä»¥è®°å½• m åç»§ç»­å¾€å·¦è¾¹æ‰¾
        if (arr[m] >= num) {
            ans = m;   // è®°å½•å½“å‰å€™é€‰ç­”æ¡ˆ
            r = m - 1; // ç¼©å°èŒƒå›´, å¾€å·¦è¾¹äºŒåˆ†
        } else {
            l = m + 1; // arr[m] < num, ç­”æ¡ˆè‚¯å®šåœ¨å³è¾¹, ä¸è®°å½•
        }
    }
    return ans;
}
```

### 3.æŸ¥æ‰¾å³è¾¹ç•Œ

```c
// [æ ¸å¿ƒç®—æ³•] äºŒåˆ†æŸ¥æ‰¾: æ‰¾ <= num çš„æœ€å³ä½ç½®
// æ—¶é—´å¤æ‚åº¦: O(logN)
int findRight(const int arr[], const int len, const int num) {
    int l = 0, r = len - 1, m = 0;
    int ans = -1; // åˆå§‹åŒ–ä¸º-1,è‹¥æ²¡æ‰¾åˆ°åˆ™è¿”å›-1

    // ç»å…¸äºŒåˆ†é€»è¾‘: åœ¨ [l, r] åŒºé—´å†…æŸ¥æ‰¾
    while (l <= r) {
        m = l + (r - l) / 2; // å–ä¸­é—´ä½ç½® (é˜²æº¢å‡ºå†™æ³•)

        // [æ ¸å¿ƒç­–ç•¥]
        // å¦‚æœ arr[m] <= num, è¯´æ˜ m å¯èƒ½æ˜¯ç­”æ¡ˆ
        // ä½†æˆ‘ä»¬è¦æ‰¾"æœ€å³"çš„, æ‰€ä»¥è®°å½• m åç»§ç»­å¾€å³è¾¹æ‰¾
        if (arr[m] <= num) {
            ans = m;   // è®°å½•å½“å‰å€™é€‰ç­”æ¡ˆ
            l = m + 1; // ç¼©å°èŒƒå›´, å¾€å³è¾¹äºŒåˆ†
        } else {
            r = m - 1; // arr[m] > num, å¤ªå¤§äº†, å¾€å·¦è¾¹äºŒåˆ†
        }
    }
    return ans;
}
```

### 4.å¯»æ‰¾å³°å€¼

```c
int findPeakElement(const int *nums, const int numsSize) {
    const int n = numsSize;
    if (n == 1) return 0; // åªæœ‰ä¸€ä¸ªå…ƒç´ , å®ƒå°±æ˜¯å³°å€¼

    // --- 1. æ£€æŸ¥å·¦å³è¾¹ç•Œ (åˆ©ç”¨ -âˆ å‡è®¾) ---
    // æ£€æŸ¥0ä½ç½®: å·¦è¾¹ç•Œæ˜¯-âˆ, åªè¦æ¯”å³è¾¹å¤§å°±æ˜¯å³°å€¼
    if (nums[0] > nums[1]) return 0;

    // æ£€æŸ¥n-1ä½ç½®: å³è¾¹ç•Œæ˜¯-âˆ, åªè¦æ¯”å·¦è¾¹å¤§å°±æ˜¯å³°å€¼
    if (nums[n - 1] > nums[n - 2]) return n - 1;

    // --- 2. äºŒåˆ†æŸ¥æ‰¾ä¸­é—´åŒºåŸŸ ---
    // æ­¤æ—¶å·²çŸ¥: 0ä½ç½®æ˜¯"ä¸Šå¡"(nums[0]<nums[1]), n-1ä½ç½®æ˜¯"ä¸‹å¡"(nums[n-1]<nums[n-2])
    // æ ¹æ®æ•°å­¦æ€§è´¨, åœ¨ [1, n-2] ä¹‹é—´å¿…ç„¶å­˜åœ¨è‡³å°‘ä¸€ä¸ªæ³¢å³°
    int l = 1, r = n - 2, m = 0, ans = -1;

    while (l <= r) {
        m = l + ((r - l) >> 1); // ä½è¿ç®—æ±‚ä¸­ç‚¹

        // [æ ¸å¿ƒé€»è¾‘] çˆ¬å¡ç­–ç•¥: å“ªè¾¹é«˜å¾€å“ªè¾¹èµ°
        if (nums[m - 1] > nums[m]) {
            r = m - 1; // å·¦è¾¹é«˜, å³°å€¼åœ¨å·¦ä¾§
        } else if (nums[m] < nums[m + 1]) {
            l = m + 1; // å³è¾¹é«˜, å³°å€¼åœ¨å³ä¾§
        } else {
            ans = m; // æ—¢ä¸å°äºå·¦è¾¹, ä¹Ÿä¸å°äºå³è¾¹ -> æ‰¾åˆ°å³°å€¼
            break;
        }
    }
    return ans;
}
```





## ğŸ“ çŸ¥è¯†ç‚¹æ€»ç»“

| åœºæ™¯                 | å…³é”®é€»è¾‘            | å¤‡æ³¨                               |
| :------------------- | :------------------ | :--------------------------------- |
| **å­˜åœ¨æ€§åˆ¤æ–­**       | `arr[mid] == num`   | ç»å…¸äºŒåˆ†ï¼Œæ‰¾åˆ°å³è¿”å›               |
| **æ‰¾ >= num æœ€å·¦**   | `arr[mid] >= num`   | è®°å½•ç­”æ¡ˆï¼Œr å‘å·¦ç¼© (`r = mid - 1`) |
| **æ‰¾ <= num æœ€å³**   | `arr[mid] <= num`   | è®°å½•ç­”æ¡ˆï¼Œl å‘å³æ‰© (`l = mid + 1`) |
| **å±€éƒ¨æœ€å¤§å€¼(å³°å€¼)** | æ¯”è¾ƒ mid ä¸ç›¸é‚»å…ƒç´  | çˆ¬å¡é€»è¾‘ï¼šå“ªè¾¹é«˜å¾€å“ªè¾¹èµ°           |