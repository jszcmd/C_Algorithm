# ğŸ“˜ ç®—æ³•è®²è§£031ã€å¿…å¤‡ã€‘ä½è¿ç®—çš„éªšæ“ä½œ

> **ğŸ‘¨â€ğŸ« è®²å¸ˆ**: å·¦ç¨‹äº‘
> **ğŸ·ï¸ æ ‡ç­¾**: `Bitwise Operation`, `Algorithm`

---

## 1. ğŸ›‘ å‰ç½®çŸ¥è¯†ä¸é«˜èƒ½é¢„è­¦

### ğŸ“š å‰ç½®è¯¾ç¨‹
åœ¨æ­¤ä¹‹å‰ï¼Œæ‚¨éœ€è¦æŒæ¡ä»¥ä¸‹å†…å®¹ï¼š
* **è®²è§£003** - äºŒè¿›åˆ¶å’Œä½è¿ç®—
* **è®²è§£030** - å¼‚æˆ–è¿ç®—çš„éªšæ“ä½œ

### âš ï¸ ç‰¹åˆ«æé†’ (Python ç”¨æˆ·)
å¯¹äºä½¿ç”¨ Python çš„åŒå­¦ï¼Œåœ¨å®ç°ä½è¿ç®—é¢˜ç›®æ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œå› ä¸º Python çš„æ•´æ•°æ˜¯åŠ¨æ€æ‰©å®¹çš„ï¼ˆæ— é™ç²¾åº¦ï¼‰ï¼Œä¸ä¼šåƒ Java/C++ é‚£æ ·è‡ªåŠ¨æº¢å‡ºæˆªæ–­ã€‚

* **é—®é¢˜**: éœ€è¦è‡ªå·±æ‰‹åŠ¨å¤„ç†æº¢å‡ºå’Œç¬¦å·æ‰©å±•ç­‰é—®é¢˜ã€‚
* **ç¤ºä¾‹å¤„ç†æ–¹å¼**:
    ```python
    # æ¨¡æ‹Ÿ 32 ä½æ— ç¬¦å·æ•´æ•°æˆªæ–­
    (n << shift_amount) & 0xFFFFFFFF
    ```

---

## 2. ğŸ’¡ ä¸ºä»€ä¹ˆå­¦ä¹ ä½è¿ç®—ï¼Ÿ

* **æé€Ÿä½“éªŒ**: ä½è¿ç®—çš„é€Ÿåº¦éå¸¸å¿«ï¼Œä»…æ¬¡äºèµ‹å€¼æ“ä½œï¼Œå¸¸æ•°æ—¶é—´æå¥½ã€‚
* **å…ˆè´¤æ™ºæ…§**: åŒ…å«å¾ˆå¤šå¥‡æŠ€æ·«å·§ï¼Œå±•ç¤ºå…ˆè´¤çš„æ·±åšåŠŸåŠ›ã€‚
* **åç»­åº”ç”¨**:
    * **Nçš‡åé—®é¢˜**: å°†åœ¨ã€å¿…å¤‡ã€‘è¯¾ç¨‹é‡Œç”¨ä½è¿ç®—å®ç°ã€‚
    * **çŠ¶æ€å‹ç¼© DP**: å°†åœ¨ã€æ‰©å±•ã€‘è¯¾ç¨‹é‡Œè®²åˆ°ã€‚

---

## 3. âš”ï¸ éªšæ“ä½œé¢˜ç›®æ¸…å•

æœ¬èŠ‚è¯¾ä¸»è¦å±•ç¤ºä»¥ä¸‹ç»å…¸é¢˜ç›®çš„ä½è¿ç®—è§£æ³•ï¼š

| ç¼–å·       | é¢˜ç›®æè¿°                                   | å¤‡æ³¨                                 |
| :--------- | :----------------------------------------- | :----------------------------------- |
| **é¢˜ç›® 1** | åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯ä¸æ˜¯ 2 çš„å¹‚                  | `n & (n-1) == 0`                     |
| **é¢˜ç›® 2** | åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯ä¸æ˜¯ 3 çš„å¹‚                  | æ•°è®ºè§£æ³•ï¼š`MaxPowerOf3 % n == 0`     |
| **é¢˜ç›® 3** | è¿”å›å¤§äºç­‰äº n çš„æœ€å°çš„ 2 çš„å¹‚             | ä½æ¶‚æŠ¹æ³•                             |
| **é¢˜ç›® 4** | åŒºé—´ `[left, right]` å†…æ‰€æœ‰æ•°å­— `&` çš„ç»“æœ | å¯»æ‰¾å…¬å…±å‰ç¼€                         |
| **é¢˜ç›® 5** | **åè½¬**ä¸€ä¸ªäºŒè¿›åˆ¶çš„çŠ¶æ€                   | æ•´ä½“é€†åº (è¶…è‡ªç„¶ç‰ˆ / åˆ†æ²»æ³•)         |
| **é¢˜ç›® 6** | è¿”å›ä¸€ä¸ªæ•°äºŒè¿›åˆ¶ä¸­æœ‰**å‡ ä¸ª 1**             | ä½©æœå¤§ç‰›çš„è„‘æ´ (è¶…è‡ªç„¶ç‰ˆ / å¹³è¡Œç®—æ³•) |

---

## 4. ğŸ§  å­¦ä¹ å»ºè®®ä¸å¿ƒå¾—

### ğŸ¤” ä»£ç çœ‹ç€åƒâ€œè„‘å­æœ‰å¤§ç—…â€ï¼Ÿ
é¢˜ç›® 5 å’Œé¢˜ç›® 6 çš„ä»£ç å®ç°çœ‹èµ·æ¥éå¸¸å¤æ‚ä¸”â€œå˜šç‘Ÿâ€ï¼Œè™½ç„¶å¾ˆå¼ºä½†ä¼¼ä¹æ²¡å¿…è¦ï¼Ÿ

* **ç°å®æ„ä¹‰**: å¹¶ä¸æ˜¯å•çº¯ç‚«æŠ€ã€‚æ¡ä»¶åˆ¤æ–­ï¼ˆif-elseï¼‰ç›¸æ¯”äºèµ‹å€¼ã€ä½è¿ç®—ã€ç®—æœ¯è¿ç®—æ˜¯ç¨æ…¢çš„ï¼Œè¿™äº›éªšæ“ä½œå‡å°‘äº†åˆ†æ”¯åˆ¤æ–­ï¼Œç¡®å®æœ‰ç°å®çš„æ€§èƒ½æ„ä¹‰ã€‚

### ğŸ“‰ ä¸è¦è¿‡åº¦è¿½æ±‚â€œæ— åˆ¤æ–­â€
* **é¿å…å›°æ‰°**: åœ¨æ—¥å¸¸ç»ƒç®—æ³•è¿‡ç¨‹ä¸­ï¼Œä¸éœ€è¦åˆ»æ„è¿½æ±‚â€œå°½é‡å°‘å†™æ¡ä»¶åˆ¤æ–­â€ï¼Œé‚£æ ·ä¼šå¸¦æ¥å¾ˆå¤šä¸å¿…è¦çš„å›°æ‰°ã€‚
* **ç›´ç™½æœ€å¥½**: ä»£ç è¿˜æ˜¯è¦å°½é‡å†™å¾—ç›´ç™½ï¼Œå°¤å…¶æ˜¯è‡ªå·±èƒ½ç†è§£çš„ä»£ç æœ€å¥½ã€‚
* **æ¨¡ç‰ˆåŒ–åº”ç”¨**: å¯¹äºå¤§ç‰›çš„å®ç°ï¼ˆå¦‚é¢˜ç›® 5ã€6ï¼‰ï¼Œæ¬£èµå¹¶ç†è§£å…¶åŸç†å³å¯ï¼Œä¸‹æ¬¡ç›´æ¥å½“åš**æ¨¡ç‰ˆ**ä½¿ç”¨ã€‚

---

# ä»£ç 

```c
#include <stdio.h>
#include <stdbool.h>
#include <stdint.h>
#include <limits.h>

// ==========================================
// é¢˜ç›® 1: åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯ä¸æ˜¯ 2 çš„å¹‚
// æµ‹è¯•é“¾æ¥: https://leetcode.cn/problems/power-of-two/
// æ ¸å¿ƒæ€æƒ³: 2çš„å¹‚äºŒè¿›åˆ¶åªæœ‰ä¸€ä¸ª1ï¼Œå‡1åè¯¥ä½å˜0ï¼Œåé¢å…¨å˜1ï¼Œç›¸ä¸ä¸º0
// ==========================================
bool isPowerOfTwo(int n) {
    return n > 0 && (n & (n - 1)) == 0;
}

// ==========================================
// é¢˜ç›® 2: åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯ä¸æ˜¯ 3 çš„å¹‚
// æµ‹è¯•é“¾æ¥: https://leetcode.cn/problems/power-of-three/
// æ ¸å¿ƒæ€æƒ³: 3æ˜¯è´¨æ•°ï¼ŒintèŒƒå›´å†…æœ€å¤§çš„3çš„å¹‚æ˜¯ 1162261467 (3^19)
// åªè¦ n èƒ½æ•´é™¤è¿™ä¸ªæœ€å¤§å¹‚ï¼Œå®ƒå°±æ˜¯ 3 çš„å¹‚
// ==========================================
bool isPowerOfThree(int n) {
    return n > 0 && 1162261467 % n == 0;
}

// ==========================================
// é¢˜ç›® 3: è¿”å›å¤§äºç­‰äº n çš„æœ€å°çš„ 2 çš„å¹‚
// æ ¸å¿ƒæ€æƒ³: ä½æ¶‚æŠ¹æ³•ã€‚æŠŠæœ€é«˜ä½1åé¢çš„æ‰€æœ‰ä½éƒ½å˜æˆ1ï¼Œæœ€å+1
// ==========================================
int near2power(int n) {
    if (n <= 0) return 1;
    n--; // å¦‚æœnæœ¬èº«æ˜¯2çš„å¹‚ï¼Œä¸å‡1ä¼šå¾—åˆ°å®ƒçš„2å€ï¼Œæ‰€ä»¥å…ˆå‡1
    n |= (unsigned int)n >> 1;
    n |= (unsigned int)n >> 2;
    n |= (unsigned int)n >> 4;
    n |= (unsigned int)n >> 8;
    n |= (unsigned int)n >> 16;
    return n + 1; // æ­¤æ—¶ n å½¢å¦‚ 00011111ï¼ŒåŠ 1å˜æˆ 00100000
}

// ==========================================
// é¢˜ç›® 4: åŒºé—´ [left, right] å†…æ‰€æœ‰æ•°å­— & çš„ç»“æœ
// æµ‹è¯•é“¾æ¥: https://leetcode.cn/problems/bitwise-and-of-numbers-range/
// æ ¸å¿ƒæ€æƒ³: å¯»æ‰¾ left å’Œ right çš„å…¬å…±å‰ç¼€
// ==========================================
int rangeBitwiseAnd(int left, int right) {
    while (left < right) {
        // æŠ¹å» right æœ€å³è¾¹çš„ 1ï¼Œç›´åˆ° right <= left
        right -= (right & -right);
    }
    return right;
}

// ==========================================
// é¢˜ç›® 5: åè½¬ä¸€ä¸ªäºŒè¿›åˆ¶çš„çŠ¶æ€
// æµ‹è¯•é“¾æ¥: https://leetcode.cn/problems/reverse-bits/
// æ ¸å¿ƒæ€æƒ³: åˆ†æ²»æ³•ã€‚å…ˆäº¤æ¢ç›¸é‚»1ä½ï¼Œå†äº¤æ¢ç›¸é‚»2ä½ï¼Œ4ä½ï¼Œ8ä½ï¼Œ16ä½
// ==========================================
uint32_t reverseBits(uint32_t n) {
    n = ((n & 0xAAAAAAAA) >> 1) | ((n & 0x55555555) << 1);
    n = ((n & 0xCCCCCCCC) >> 2) | ((n & 0x33333333) << 2);
    n = ((n & 0xF0F0F0F0) >> 4) | ((n & 0x0F0F0F0F) << 4);
    n = ((n & 0xFF00FF00) >> 8) | ((n & 0x00FF00FF) << 8);
    n = (n >> 16) | (n << 16);
    return n;
}

// ==========================================
// é¢˜ç›® 6: è¿”å›ä¸€ä¸ªæ•°äºŒè¿›åˆ¶ä¸­æœ‰å‡ ä¸ª 1
// æµ‹è¯•é“¾æ¥: https://leetcode.cn/problems/hamming-distance/
// æ ¸å¿ƒæ€æƒ³: å¹³è¡Œç®—æ³• (åˆ†æ²»æ³•)ã€‚ä¸¤ä¸¤ç›¸åŠ ï¼Œå››å››ç›¸åŠ ...
// ==========================================
int cntOnes(unsigned int n) {
    n = (n & 0x55555555) + ((n >> 1) & 0x55555555);
    n = (n & 0x33333333) + ((n >> 2) & 0x33333333);
    n = (n & 0x0F0F0F0F) + ((n >> 4) & 0x0F0F0F0F);
    n = (n & 0x00FF00FF) + ((n >> 8) & 0x00FF00FF);
    n = (n & 0x0000FFFF) + ((n >> 16) & 0x0000FFFF);
    return n;
}

int main() {
    printf("isPowerOfTwo(8): %d\n", isPowerOfTwo(8));
    printf("isPowerOfThree(9): %d\n", isPowerOfThree(9));
    printf("near2power(9): %d\n", near2power(9));
    printf("rangeBitwiseAnd(5, 7): %d\n", rangeBitwiseAnd(5, 7));
    printf("reverseBits(43261596): %u\n", reverseBits(43261596));
    printf("cntOnes(11): %d\n", cntOnes(11));
    return 0;
}
```